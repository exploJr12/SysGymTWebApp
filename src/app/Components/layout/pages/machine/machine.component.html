<h1 style="margin:20px 0px 0px 40px">Maquinaria</h1>

<mat-card>
    <mat-card-title>
        <button mat-raised-button color="primary" (click)="openMachineModal()">
            <mat-icon mat-list-icon>add</mat-icon>Nueva Maquinaria
        </button>
    </mat-card-title>
    
    <mat-divider></mat-divider>
    
    <mat-card-content class="dashboard-card-content">
        
        <mat-form-field appearance="fill">
            <mat-label>Buscar</mat-label>
            <input matInput (keyup)="tableFiltter($event)" #input>
        </mat-form-field>
        
    </mat-card-content>
    
    <div class="mat-elevation-z2">
        <table mat-table [dataSource]="dataListMachines" class="machines-table mat-elevation-z2">

            <!-- DefiniciÃ³n de encabezado (header) -->
            <ng-container *ngFor="let machine of dataListMachines.data" [matColumnDef]="machine.machines_Name">
                <th mat-header-cell *matHeaderCellDef>{{ machine.machines_Name }}</th>
                <td mat-cell *matCellDef="let element">{{ element[machine.machines_Name] }}</td>
            </ng-container>
              
          
            <ng-container *ngFor="let machine of dataListMachines.data" [matColumnDef]="machine.brand">
                <th mat-header-cell *matHeaderCellDef>{{ machine.brand }}</th>
                <td mat-cell *matCellDef="let element">{{ element[machine.brand] }}</td>
            </ng-container>
          
            <ng-container *ngFor="let machine of dataListMachines.data" [matColumnDef]="machine.serial_Number">
                <th mat-header-cell *matHeaderCellDef>{{ machine.serial_Number }}</th>
                <td mat-cell *matCellDef="let element">{{ element[machine.serial_Number] }}</td>
            </ng-container>

            <ng-container matColumnDef="Estado">
                <th mat-header-cell *matHeaderCellDef>Estado</th>
                <td mat-cell *matCellDef="let element"> {{element.status ? 'Activo' : 'Inactivo'}} </td>
            </ng-container>

            <ng-container matColumnDef="fechaCompra">
                <th mat-header-cell *matHeaderCellDef>Fecha Compra</th>
                <td mat-cell *matCellDef="let element"> {{element.acquisition_Date}} </td>
            </ng-container>

            <ng-container matColumnDef="FechaMantenimiento">
                <th mat-header-cell *matHeaderCellDef>Fecha de Mantenimiento</th>
                <td mat-cell *matCellDef="let element"> {{element.maintenance_Date}} </td>
            </ng-container>

            <ng-container matColumnDef="SiguienteMantenimiento">
                <th mat-header-cell *matHeaderCellDef>Siguiente mantenimiento</th>
                <td mat-cell *matCellDef="let element"> {{element.next_Maintenance_Date}} </td>
            </ng-container>

            <ng-container matColumnDef="EncargadoMantenimiento">
                <th mat-header-cell *matHeaderCellDef>Encargado del mantenimiento</th>
                <td mat-cell *matCellDef="let element"> {{element.usuario}} </td>
            </ng-container>
            
          
            <!-- Define las filas (row) -->
            <tr mat-header-row *matHeaderRowDef="columnTable"></tr>
            <tr mat-row *matRowDef="let row; columns: columnTable;"></tr>
          </table>
          
    </div>
    
</mat-card>
